<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Slideshow</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="icon" href="images/logo.PNG" type="image/png">

  <!-- fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

  <link rel="stylesheet" href="css/slideshow.css">
</head>
<body>
    <h1 id="slideshow-title"></h1>
    <div class="slideshow-container d-flex align-items-center">
      <div id="slideshow-image-container">
        <img id="slideshow-image" src="" alt="Slideshow Image">
        <p id="slideshow-credit" class="text-muted" style="font-size: 14px; margin-top: 10px;"></p>
      </div>
      <div id="slideshow-description" style="margin-left: 20px;"></div>
    </div>
    
    

    <!-- Next and Previous Buttons -->
    <button id="prev-button" class="nav-button">&#10094;</button>
    <button id="next-button" class="nav-button">&#10095;</button>

    <a id="back-button" href="work.html">Back</a>
</body>

<script>
     // Retrieve data from localStorage
const title = localStorage.getItem('slideshowTitle') || 'Default Slideshow';
const images = JSON.parse(localStorage.getItem('slideshowImages')) || [];
const descriptions = JSON.parse(localStorage.getItem('slideshowDescriptions')) || [];
const credits = JSON.parse(localStorage.getItem('slideshowCredits')) || [];

// Get DOM elements
const slideshow = document.getElementById('slideshow');
const description = document.getElementById('slideshow-description');
const slideshowTitle = document.getElementById('slideshow-title');

// Set title
slideshowTitle.innerText = title;

if (images.length > 0) {
  let currentIndex = 0;

  function updateSlideshow() {
  // Update the image source
  const slideshowImage = document.getElementById('slideshow-image');
  slideshowImage.src = images[currentIndex];
  slideshowImage.alt = descriptions[currentIndex] || 'Slideshow Image';

  // Update the credit
  const slideshowCredit = document.getElementById('slideshow-credit');
  const creditText = credits[currentIndex] || '';
  if (creditText.trim() === '') {
    slideshowCredit.style.display = 'none'; // Hide the credit if empty
  } else {
    slideshowCredit.style.display = 'block'; // Show the credit if not empty
    slideshowCredit.innerText = creditText;
  }

  // Update the description
  const descriptionElement = document.getElementById('slideshow-description');
  descriptionElement.innerHTML = `<p>${descriptions[currentIndex] || ''}</p>`;
}
  // Initialize the slideshow
  updateSlideshow();

  // Navigation buttons
  document.getElementById('prev-button').addEventListener('click', () => {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    updateSlideshow();
  });

  document.getElementById('next-button').addEventListener('click', () => {
    currentIndex = (currentIndex + 1) % images.length;
    updateSlideshow();
  });
} else {
  slideshow.innerHTML = '<p>No images available</p>';
}

</script>
</html>
